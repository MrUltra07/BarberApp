@model BarberApp.Models.Appointment

@{
    var customerName = Context.Session.GetString("CustomerName");
}

    <div class="container mt-5">
        <h2 class="text-center">Randevu Al</h2>
        @if (ViewBag.ErrorMessage != null)
        {
            <div class="alert alert-danger">@ViewBag.ErrorMessage</div>
        }

        <form asp-action="BookAppointment" asp-controller="Appointments" method="post" class="needs-validation" novalidate>
            <div class="form-group mb-3">
                <label for="Date">Randevu Tarihi</label>
                <input type="datetime-local" asp-for="Date" class="form-control" id="Date" required />
                <span asp-validation-for="Date" class="text-danger"></span>
            </div>

            <div class="form-group mb-3">
                <label for="Employee">Çalışan</label>
                <select asp-for="Employee.Id" class="form-control" required>
                    <option value="">Çalışan Seçin</option>
                    @foreach (var employee in ViewBag.Employees)
                    {
                        <option value="@employee.Id">@employee.Name</option>
                    }
                </select>
                <span asp-validation-for="Employee" class="text-danger"></span>
            </div>

            <div class="form-group mb-3">
                <label for="Skill">Yetenek</label>
                <select asp-for="Skill.Id" class="form-control" required>
                    <option value="">Yetenek Seçin</option>
                    @foreach (var skill in ViewBag.Skills)
                    {
                        <option value="@skill.Id">@skill.Title</option>
                    }
                </select>
                <span asp-validation-for="Skill" class="text-danger"></span>
            </div>

            <div class="form-group mb-3">
                <label for="Status">Randevu Durumu</label>
                <select asp-for="Status.Id" class="form-control" required>
                    <option value="">Durum Seçin</option>
                    @foreach (var status in ViewBag.Statuses)
                    {
                        <option value="@status.Id">@status.Name</option>
                    }
                </select>
                <span asp-validation-for="Status" class="text-danger"></span>
            </div>

            <button type="submit" class="btn btn-primary w-100">Randevu Al</button>
        </form>
    </div>
